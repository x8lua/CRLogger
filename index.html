<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRLogger Pro ğŸ“</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 100%); }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .glow:focus { box-shadow: 0 0 15px rgba(59, 130, 246, 0.5); }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-6 text-white font-sans">

    <div class="glass max-w-md w-full rounded-3xl p-8 shadow-2xl animate__animated animate__fadeIn">
        <div class="flex items-center gap-3 mb-6">
            <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
            <h1 class="text-2xl font-bold tracking-tight text-blue-400">CRLogger <span class="text-xs font-light text-gray-500">v1.0</span></h1>
        </div>
        
        <textarea id="box" 
            class="glow w-full h-56 bg-gray-900/50 border border-gray-700 rounded-2xl p-4 text-white outline-none transition-all placeholder-gray-600 text-lg"
            placeholder="å–ºå‘¢åº¦è¨˜éŒ„èª²å ‚é‡é»..."></textarea>

        <button id="send" 
            class="mt-6 w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-4 rounded-2xl shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2">
            <span>åŒæ­¥è‡³é›²ç«¯</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z" />
            </svg>
        </button>
        
        <p id="msg" class="text-center mt-6 text-xs font-mono tracking-widest text-gray-500 uppercase"></p>
    </div>

    <script type="module">
        // å·²ç¶“å¹«ä½ å¡«å¥½å’—ï¼ğŸš€
        const URL = "https://fgcahyuzvvralgvyaspo.supabase.co";
        const KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZnY2FoeXV6dnZyYWxndnlhc3BvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAyODQzMjAsImV4cCI6MjA4NTg2MDMyMH0.h0jZ3DYHgqo5J4us-gpmHGdpBgkVmFJG_svPqIBYIZI";

        const btn = document.getElementById('send');
        const box = document.getElementById('box');
        const msg = document.getElementById('msg');

        btn.onclick = async () => {
            const content = box.value.trim();
            if(!content) return;

            msg.innerText = "ğŸ“¡ Uplinking...";
            btn.disabled = true;
            btn.classList.add('opacity-50');
            
            try {
                const res = await fetch(`${URL}/rest/v1/logs`, {
                    method: 'POST',
                    headers: {
                        'apikey': KEY,
                        'Authorization': `Bearer ${KEY}`,
                        'Content-Type': 'application/json',
                        'Prefer': 'return=minimal'
                    },
                    body: JSON.stringify({ content: content })
                });

                if(res.ok) {
                    msg.innerText = "âœ¨ Successfully synced to cloud";
                    box.value = "";
                    if(navigator.vibrate) navigator.vibrate(50);
                } else {
                    const err = await res.json();
                    msg.innerText = "âŒ Error: " + (err.message || "Unknown");
                    console.error(err);
                }
            } catch (e) {
                msg.innerText = "âŒ Connection Failed";
            } finally {
                btn.disabled = false;
                btn.classList.remove('opacity-50');
                setTimeout(() => { if(msg.innerText.includes('Successfully')) msg.innerText = ""; }, 3000);
            }
        }
    </script>
</body>
</html>
